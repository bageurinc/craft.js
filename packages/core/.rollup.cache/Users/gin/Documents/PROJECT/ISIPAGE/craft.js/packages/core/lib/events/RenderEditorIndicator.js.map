{"version":3,"file":"RenderEditorIndicator.js","sourceRoot":"","sources":["../../src/events/RenderEditorIndicator.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,eAAe,EAAE,UAAU,EAAE,MAAM,gBAAgB,CAAC;AAC7D,OAAO,KAAK,EAAE,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAEzC,OAAO,EAAE,eAAe,EAAE,MAAM,gBAAgB,CAAC;AACjD,OAAO,eAAe,MAAM,mBAAmB,CAAC;AAEhD,OAAO,EAAE,iBAAiB,EAAE,MAAM,6BAA6B,CAAC;AAEhE,MAAM,CAAC,MAAM,qBAAqB,GAAG,GAAG,EAAE;IACxC,MAAM,EAAE,SAAS,EAAE,gBAAgB,EAAE,OAAO,EAAE,GAAG,iBAAiB,CAChE,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;QACV,SAAS,EAAE,KAAK,CAAC,SAAS;QAC1B,gBAAgB,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS;QACzC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,OAAO;KAC/B,CAAC,CACH,CAAC;IAEF,MAAM,OAAO,GAAG,eAAe,EAAE,CAAC;IAElC,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,OAAO,EAAE,CAAC;YACb,OAAO;QACT,CAAC;QAED,IAAI,CAAC,OAAO,EAAE,CAAC;YACb,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO;QACT,CAAC;QAED,OAAO,CAAC,MAAM,EAAE,CAAC;IACnB,CAAC,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC;IAEvB,IAAI,CAAC,SAAS,EAAE,CAAC;QACf,OAAO,IAAI,CAAC;IACd,CAAC;IAED,MAAM,eAAe,GAAG,eAAe,CACrC,SAAS,CAAC,SAAS,EACnB,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,EAC1C,SAAS,CAAC,SAAS,CAAC,WAAW;QAC7B,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,CAAC,EACjD,gBAAgB,CAAC,SAAS,CAC3B,CAAC;IAEF,MAAM,WAAW,GAAG,eAAe,CAAC,IAAI,KAAK,OAAO,CAAC;IACrD,MAAM,SAAS,GAAG,SAAS,CAAC,KAAK;QAC/B,CAAC,CAAC,gBAAgB,CAAC,KAAK;QACxB,CAAC,CAAC,gBAAgB,CAAC,OAAO,CAAC;IAE7B,OAAO,CACL,oBAAC,eAAe,IACd,SAAS,EAAE,gBAAgB,CAAC,SAAS,EACrC,KAAK,EAAE;YACL,GAAG,EAAE,eAAe,CAAC,GAAG;YACxB,IAAI,EAAE,eAAe,CAAC,IAAI;YAC1B,KAAK,EAAE,eAAe,CAAC,KAAK;YAC5B,MAAM,EAAE,eAAe,CAAC,MAAM;YAC9B,uCAAuC;YACvC,GAAG,CAAC,WAAW;gBACb,CAAC,CAAC;oBACE,yDAAyD;oBACzD,eAAe,EAAE,GAAG,SAAS,IAAI,EAAE,iCAAiC;oBACpE,MAAM,EAAE,aAAa,SAAS,EAAE;oBAChC,YAAY,EAAE,KAAK;oBACnB,SAAS,EAAE,YAAY;oBACvB,aAAa,EAAE,MAAM;oBACrB,8BAA8B;oBAC9B,SAAS,EAAE,aAAa,SAAS,sBAAsB,SAAS,IAAI;oBACpE,oBAAoB;oBACpB,UAAU,EAAE,uCAAuC;iBACpD;gBACH,CAAC,CAAC;oBACE,kCAAkC;oBAClC,eAAe,EAAE,SAAS;oBAC1B,WAAW,EAAE,CAAC;iBACf,CAAC;YACN,UAAU,EAAE,gBAAgB,CAAC,UAAU,IAAI,cAAc;YACzD,GAAG,CAAC,gBAAgB,CAAC,KAAK,IAAI,EAAE,CAAC;SAClC,EACD,SAAS,EAAE,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,GACzC,CACH,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { RenderIndicator, getDOMInfo } from '@craftjs/utils';\nimport React, { useEffect } from 'react';\n\nimport { useEventHandler } from './EventContext';\nimport movePlaceholder from './movePlaceholder';\n\nimport { useInternalEditor } from '../editor/useInternalEditor';\n\nexport const RenderEditorIndicator = () => {\n  const { indicator, indicatorOptions, enabled } = useInternalEditor(\n    (state) => ({\n      indicator: state.indicator,\n      indicatorOptions: state.options.indicator,\n      enabled: state.options.enabled,\n    })\n  );\n\n  const handler = useEventHandler();\n\n  useEffect(() => {\n    if (!handler) {\n      return;\n    }\n\n    if (!enabled) {\n      handler.disable();\n      return;\n    }\n\n    handler.enable();\n  }, [enabled, handler]);\n\n  if (!indicator) {\n    return null;\n  }\n\n  const placeholderInfo = movePlaceholder(\n    indicator.placement,\n    getDOMInfo(indicator.placement.parent.dom),\n    indicator.placement.currentNode &&\n      getDOMInfo(indicator.placement.currentNode.dom),\n    indicatorOptions.thickness\n  );\n\n  const isBlockMode = placeholderInfo.mode === 'block';\n  const baseColor = indicator.error\n    ? indicatorOptions.error\n    : indicatorOptions.success;\n\n  return (\n    <RenderIndicator\n      className={indicatorOptions.className}\n      style={{\n        top: placeholderInfo.top,\n        left: placeholderInfo.left,\n        width: placeholderInfo.width,\n        height: placeholderInfo.height,\n        // Apply different styles based on mode\n        ...(isBlockMode\n          ? {\n              // Block area styles - subtle outline with corner accents\n              backgroundColor: `${baseColor}08`, // 08 = ~3% opacity (very subtle)\n              border: `2px solid ${baseColor}`,\n              borderRadius: '6px',\n              boxSizing: 'border-box',\n              pointerEvents: 'none',\n              // Add subtle shadow for depth\n              boxShadow: `0 0 0 4px ${baseColor}10, inset 0 0 20px ${baseColor}15`,\n              // Smooth transition\n              transition: 'all 0.2s cubic-bezier(0.4, 0, 0.2, 1)',\n            }\n          : {\n              // Line styles (existing behavior)\n              backgroundColor: baseColor,\n              borderWidth: 0,\n            }),\n        transition: indicatorOptions.transition || '0.2s ease-in',\n        ...(indicatorOptions.style ?? {}),\n      }}\n      parentDom={indicator.placement.parent.dom}\n    />\n  );\n};\n"]}